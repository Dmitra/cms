#!/bin/bash
mkdir -p build/client
browserify client/app.js -v -t [ babelify --presets [ es2015 ] ] | uglifyjs -o build/client/bundle.js 
node_modules/babel-cli/bin/babel.js client/util.js -o build/client/util.js

uglifyjs \
  node_modules/lodash/lodash.js \
  node_modules/jquery/dist/jquery.js \
  node_modules/jquery.easing/jquery.easing.js \
  node_modules/handlebars/dist/handlebars.js \
  node_modules/d3/d3.js \
  node_modules/backbone-events-standalone/backbone-events-standalone.js \
  node_modules/webcola/WebCola/cola.js \
  node_modules/material-design-lite/src/mdlComponentHandler.js \
  node_modules/material-design-lite/src/menu/menu.js \
  node_modules/material-design-lite/src/textfield/textfield.js \
  build/client/util.js \
-b -o build/client/libs.js

rm build/client/util.js
